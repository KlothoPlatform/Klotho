from: klotho.aws.API
to: klotho.aws.Container

inputs:
  Method:
    name: Method
    description: The HTTP method to use
    type: string
    default: GET

  Path:
    name: Path
    description: The path to use
    type: string
    default: /*

resources:
  Method:
    type: aws:api_method
    name: ${to.inputs:Name}
    properties:
      HttpMethod: ${inputs:Method}

  Integration:
    type: aws:api_integration
    name: ${to.inputs:Name}
    properties:
      Route: ${inputs:Path}
      Method: ${resources:Method}

edges:
  - from: ${from.resources:RestAPI}
    to: ${resources:Integration}
  - from: ${resources:Integration}
    to: ${to.resources:Service}
