from: klotho.aws.Function
to: klotho.aws.Bucket

inputs:
  ReadOnly:
    name: Read Only
    description: Whether the connection should be read only
    type: boolean
    default: false
input_rules:
  - if: '{{ inputs "ReadOnly" }}'
    then:
      edges:
        - from: ${from.resources:LambdaFunction}
          to: ${to.resources:Bucket}
          data:
            connection_type: readonly
    else:
      edges:
        - from: ${from.resources:LambdaFunction}
          to: ${to.resources:Bucket}
